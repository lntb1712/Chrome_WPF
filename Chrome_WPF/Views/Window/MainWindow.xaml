<Window
    x:Class="Chrome_WPF.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:convertert="clr-namespace:Chrome_WPF.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Chrome_WPF.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Chrome"
    Width="1400"
    Height="800"
    AllowsTransparency="False"
    Background="White"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Window.Resources>
        <convertert:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <convertert:AllFalseToVisibilityConverter x:Key="AllFalseToVisibilityConverter" />
        <convertert:ApplicableLocationsConverter x:Key="LocationsConverter" />
        <convertert:IntGreaterThanZeroToVisibilityConverter x:Key="IntGreaterThanZeroToVisibilityConverter" />
        <Style x:Key="MenuItemStyle" TargetType="ListBoxItem">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#333333" />
            <Setter Property="Padding" Value="5" />
            <Setter Property="Margin" Value="0,2" />
            <Setter Property="Width" Value="250" />
            <Setter Property="Height" Value="35" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderThickness="0"
                            CornerRadius="10">
                            <ContentPresenter Margin="{TemplateBinding Padding}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E0E0E0" />
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#E6F0FA" />
                                <Setter Property="Foreground" Value="#0052CC" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="LightGray" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ScrollBarLineButton" TargetType="RepeatButton">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="IsTabStop" Value="False" />
            <Setter Property="Focusable" Value="False" />
            <Setter Property="Width" Value="10" />
            <Setter Property="Height" Value="10" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RepeatButton">
                        <Grid Background="Transparent" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="MaterialDesignScrollBar" TargetType="ScrollBar">
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="Height" Value="500" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Width="10" Background="Transparent">
                            <Track
                                Name="PART_Track"
                                Focusable="False"
                                IsDirectionReversed="true">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.LineUpCommand" Style="{StaticResource ScrollBarLineButton}" />
                                </Track.DecreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Background="LightGray">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="5" />
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.LineDownCommand" Style="{StaticResource ScrollBarLineButton}" />
                                </Track.IncreaseRepeatButton>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <DataTemplate x:Key="MenuItemTemplate">
            <StackPanel Margin="10,0" Orientation="Horizontal">
                <Rectangle
                    Width="20"
                    Height="20"
                    Margin="0,0,10,0"
                    Fill="#333333" />
                <TextBlock
                    VerticalAlignment="Center"
                    Foreground="#333333"
                    Text="{Binding}" />
            </StackPanel>
        </DataTemplate>
        <Style
            x:Key="SeparatorItemStyle"
            BasedOn="{StaticResource MenuItemStyle}"
            TargetType="ListBoxItem">
            <Setter Property="IsEnabled" Value="False" />
            <Setter Property="Height" Value="10" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border
                            Height="2"
                            Margin="10,4,10,4"
                            Background="#CCCCCC" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style
            x:Key="TitleItemStyle"
            BasedOn="{StaticResource MenuItemStyle}"
            TargetType="ListBoxItem">
            <Setter Property="IsEnabled" Value="False" />
            <Setter Property="Height" Value="25" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="Gray" />
        </Style>
        <Style x:Key="NotificationItemStyle" TargetType="ListBoxItem">
            <Setter Property="Background" Value="#FFFFFF" />
            <Setter Property="Padding" Value="10" />
            <Setter Property="Margin" Value="0,2" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="#E0E0E0"
                            BorderThickness="0,0,0,1">
                            <ContentPresenter Margin="{TemplateBinding Padding}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#F5F5F5" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid x:Name="MainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="SidebarColumn" Width="270" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Border
            Grid.Column="0"
            BorderBrush="#E0E0E0"
            BorderThickness="0,0,1,0">
            <Grid Background="#FFFFFF">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <StackPanel
                    Grid.Row="0"
                    Margin="0,0,0,20"
                    HorizontalAlignment="Center">
                    <Image
                        Width="50"
                        Height="50"
                        Margin="0,20,0,0"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Top"
                        Source="pack://application:,,,/Resources/img/logo1.png" />
                    <TextBlock
                        x:Name="LogoText"
                        FontSize="24"
                        FontWeight="Bold"
                        Foreground="#333333"
                        Text="CHROME" />
                </StackPanel>
                <ListBox
                    x:Name="MainMenuListBox"
                    Grid.Row="1"
                    Background="Transparent"
                    BorderThickness="0"
                    ItemContainerStyle="{StaticResource MenuItemStyle}"
                    ItemTemplate="{StaticResource MenuItemTemplate}"
                    SelectionChanged="MainMenuListBox_SelectionChanged">
                    <ListBox.Resources>
                        <Style BasedOn="{StaticResource MaterialDesignScrollBar}" TargetType="ScrollBar" />
                    </ListBox.Resources>
                    <ListBoxItem x:Name="OverviewTitle" Style="{StaticResource TitleItemStyle}">Tổng quan</ListBoxItem>
                    <ListBoxItem x:Name="ucDashboard">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="20"
                                Height="20"
                                Margin="10,0,10,0"
                                Kind="ViewDashboard" />
                            <TextBlock FontSize="16" Text="Bảng điều khiển" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Style="{StaticResource SeparatorItemStyle}" />
                    <ListBoxItem x:Name="AccountTitle" Style="{StaticResource TitleItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanAccountManagement" />
                                <Binding Path="CanGroupManagement" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                        Tài khoản
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucAccountManagement" Visibility="{Binding CanAccountManagement, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="AccountCircle" />
                            <TextBlock Text="Quản lí người dùng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucGroupManagement" Visibility="{Binding CanGroupManagement, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="PersonGroup" />
                            <TextBlock Text="Quản lí nhóm người dùng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Style="{StaticResource SeparatorItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanAccountManagement" />
                                <Binding Path="CanGroupManagement" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                    </ListBoxItem>
                    <ListBoxItem x:Name="MasterDataTitle" Style="{StaticResource TitleItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanProductMaster" />
                                <Binding Path="CanSupplierMaster" />
                                <Binding Path="CanCustomerMaster" />
                                <Binding Path="CanWarehouseMaster" />
                                <Binding Path="CanBOMMaster" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                        Dữ liệu chung
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucProductMaster" Visibility="{Binding CanProductMaster, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="Package" />
                            <TextBlock Text="Quản lí sản phẩm" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucSupplierMaster" Visibility="{Binding CanSupplierMaster, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="SourceBranch" />
                            <TextBlock Text="Quản lí nhà cung cấp" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucCustomerMaster" Visibility="{Binding CanCustomerMaster, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="Partnership" />
                            <TextBlock Text="Quản lí khách hàng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucWarehouseMaster" Visibility="{Binding CanWarehouseMaster, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="Warehouse" />
                            <TextBlock Text="Quản lí danh mục kho" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucBOMMaster" Visibility="{Binding CanBOMMaster, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="FileTree" />
                            <TextBlock Text="Quản lí BOM" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Style="{StaticResource SeparatorItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanProductMaster" />
                                <Binding Path="CanSupplierMaster" />
                                <Binding Path="CanCustomerMaster" />
                                <Binding Path="CanWarehouseMaster" />
                                <Binding Path="CanBOMMaster" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                    </ListBoxItem>
                    <ListBoxItem x:Name="CommandTitle" Style="{StaticResource TitleItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanInventory" />
                                <Binding Path="CanReservation" />
                                <Binding Path="CanStockIn" />
                                <Binding Path="CanStockOut" />
                                <Binding Path="CanTransfer" />
                                <Binding Path="CanMovement" />
                                <Binding Path="CanPickList" />
                                <Binding Path="CanPutAway" />
                                <Binding Path="CanStockTake" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                        Quản lí kho
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucInventory" Visibility="{Binding CanInventory, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="ClipboardList" />
                            <TextBlock Text="Tồn kho" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucReplenish" Visibility="{Binding CanReplenish, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="BasketFill" />
                            <TextBlock Text="Luật bổ sung" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucReservation" Visibility="{Binding CanReservation, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="BookMarker" />
                            <TextBlock Text="Đặt chỗ" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucStockIn" Visibility="{Binding CanStockIn, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="TruckDelivery" />
                            <TextBlock Text="Nhập hàng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucStockOut" Visibility="{Binding CanStockOut, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="PackageDelivered" />
                            <TextBlock Text="Xuất hàng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucTransfer" Visibility="{Binding CanTransfer, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="SwapHorizontal" />
                            <TextBlock Text="Chuyển kho" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucMovement" Visibility="{Binding CanMovement, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="Transfer" />
                            <TextBlock Text="Chuyển kệ" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucPickList" Visibility="{Binding CanPickList, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="PackageUp" />
                            <TextBlock Text="Lấy hàng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucPutAway" Visibility="{Binding CanPutAway, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="PackageDown" />
                            <TextBlock Text="Cất hàng" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucStockTake" Visibility="{Binding CanStockTake, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="ClipboardCheck" />
                            <TextBlock Text="Kiểm đếm" />
                        </StackPanel>
                    </ListBoxItem>
                    <ListBoxItem Style="{StaticResource SeparatorItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanInventory" />
                                <Binding Path="CanReservation" />
                                <Binding Path="CanStockIn" />
                                <Binding Path="CanStockOut" />
                                <Binding Path="CanTransfer" />
                                <Binding Path="CanMovement" />
                                <Binding Path="CanPickList" />
                                <Binding Path="CanPutAway" />
                                <Binding Path="CanStockTake" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                    </ListBoxItem>
                    <ListBoxItem x:Name="ProductionTitle" Style="{StaticResource TitleItemStyle}">
                        <ListBoxItem.Visibility>
                            <MultiBinding Converter="{StaticResource AllFalseToVisibilityConverter}">
                                <Binding Path="CanProductionOrder" />
                            </MultiBinding>
                        </ListBoxItem.Visibility>
                        Quản lí Sản xuất
                    </ListBoxItem>
                    <ListBoxItem x:Name="ucManufacturingOrder" Visibility="{Binding CanProductionOrder, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="Factory" />
                            <TextBlock Text="Quản lí lệnh sản xuất" />
                        </StackPanel>
                    </ListBoxItem>
                </ListBox>
                <ListBox
                    x:Name="LogOut"
                    Grid.Row="2"
                    Margin="0,0,0,10"
                    Background="Transparent"
                    BorderThickness="0"
                    ItemContainerStyle="{StaticResource MenuItemStyle}"
                    ItemTemplate="{StaticResource MenuItemTemplate}"
                    SelectionChanged="LogOut_SelectionChanged">
                    <ListBoxItem Name="LogOutItem" Foreground="Red">
                        <StackPanel
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                Width="24"
                                Height="24"
                                Margin="10,0,10,0"
                                Kind="Logout" />
                            <TextBlock Text="Đăng xuất" />
                        </StackPanel>
                    </ListBoxItem>
                </ListBox>
            </Grid>
        </Border>
        <Border
            Grid.Column="1"
            BorderBrush="#E0E0E0"
            BorderThickness="0,0,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Border
                    Grid.Row="0"
                    Padding="10"
                    BorderBrush="#E0E0E0"
                    BorderThickness="0,0,0,1">
                    <StackPanel Background="Transparent">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Button
                                x:Name="ToggleSideBar"
                                Grid.Column="0"
                                Width="35"
                                Height="35"
                                Background="White"
                                BorderBrush="Transparent"
                                Click="ToggleSideBar_Click"
                                Style="{StaticResource MaterialDesignFloatingActionMiniButton}">
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    Foreground="Gray"
                                    Kind="MenuOpen" />
                            </Button>
                            <TextBlock
                                Grid.Column="2"
                                Margin="0,0,20,0"
                                VerticalAlignment="Center"
                                FontFamily="Calibri"
                                FontSize="14"
                                Foreground="#718096"
                                Text="{Binding CurrentDateTime}" />
                            <Button
                                x:Name="NotificationButton"
                                Grid.Column="3"
                                Margin="0,0,10,0"
                                Background="Transparent"
                                Click="NotificationButton_Click"
                                Style="{StaticResource MaterialDesignFloatingActionMiniButton}">
                                <Grid>
                                    <materialDesign:PackIcon
                                        Width="20"
                                        Height="20"
                                        Foreground="Gray"
                                        Kind="Bell" />
                                    <Border
                                        Width="16"
                                        Height="16"
                                        Margin="10,-5,0,0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Top"
                                        Background="Red"
                                        CornerRadius="8"
                                        Visibility="{Binding WarningCount, Converter={StaticResource IntGreaterThanZeroToVisibilityConverter}}">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            FontSize="10"
                                            Foreground="White"
                                            Text="{Binding WarningCount}" />
                                    </Border>
                                </Grid>
                            </Button>
                            <Popup
                                x:Name="NotificationPopup"
                                MouseLeave="NotificationPopup_MouseLeave"
                                Placement="Bottom"
                                PlacementTarget="{Binding ElementName=NotificationButton}"
                                StaysOpen="False">
                                <Border
                                    Width="220"
                                    MaxHeight="300"
                                    Background="White"
                                    CornerRadius="5">
                                    <ScrollViewer Background="White" VerticalScrollBarVisibility="Auto">
                                        <Border
                                            Padding="2"
                                            Background="White"
                                            BorderBrush="Gray"
                                            BorderThickness="1"
                                            CornerRadius="8">
                                            <!--  Nên có background để hiển thị đúng bo góc  -->
                                            <ListBox
                                                x:Name="NotificationListBox"
                                                Background="Transparent"
                                                BorderThickness="0"
                                                ItemContainerStyle="{StaticResource NotificationItemStyle}"
                                                ItemsSource="{Binding ReplenishWarnings}">
                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock
                                                            FontSize="10"
                                                            Foreground="#333333"
                                                            Text="{Binding}"
                                                            TextWrapping="Wrap" />
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>
                                            </ListBox>
                                        </Border>

                                    </ScrollViewer>
                                </Border>
                            </Popup>
                            <Border
                                Grid.Column="4"
                                Width="Auto"
                                Padding="5,5,30,5"
                                Background="#ECF0F1"
                                BorderBrush="Transparent"
                                BorderThickness="1"
                                CornerRadius="15">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Border
                                        Width="30"
                                        Height="30"
                                        VerticalAlignment="Center"
                                        Background="#1A73E8"
                                        CornerRadius="15">
                                        <TextBlock
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            FontSize="12"
                                            FontWeight="Bold"
                                            Foreground="White"
                                            Text="{Binding UserInformationDTO.ImageInitial}" />
                                    </Border>
                                    <StackPanel Margin="5,0,0,0">
                                        <TextBlock Foreground="Black" Text="{Binding UserInformationDTO.FullName}" />
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock
                                                FontSize="10"
                                                Foreground="Gray"
                                                Text="{Binding UserInformationDTO.GroupName}" />
                                            <TextBlock
                                                Margin="1,0,0,0"
                                                FontSize="10"
                                                Foreground="Gray"
                                                Text="(" />
                                            <TextBlock
                                                FontSize="10"
                                                Foreground="Gray"
                                                Text="{Binding UserInformationDTO.ApplicableLocations, Converter={StaticResource LocationsConverter}}" />
                                            <TextBlock
                                                FontSize="10"
                                                Foreground="Gray"
                                                Text=")" />
                                        </StackPanel>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </StackPanel>
                </Border>
                <ContentControl x:Name="MainContent" Grid.Row="1">
                    <materialDesign:Snackbar
                        x:Name="MainSnackbar"
                        Width="Auto"
                        Margin="16"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        MessageQueue="{materialDesign:MessageQueue}" />
                </ContentControl>
            </Grid>
        </Border>
    </Grid>
</Window>